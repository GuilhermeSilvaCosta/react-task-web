(this["webpackJsonptasks-web"]=this["webpackJsonptasks-web"]||[]).push([[0],{93:function(e,n,t){"use strict";t.r(n);var a,r=t(0),c=t.n(r),s=t(24),o=t.n(s),i=t(7),d=t(48),u=t(12),l=t(19),b=t(13).a({basename:"/react-task-web"}),p=t(9),j=t(10),h=(t(66),Object(j.a)(a||(a=Object(p.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Roboto:400,700&display=swap');\n\n  * {\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  *:focus {\n    outline: 0;\n  }\n\n  html, body, #root {\n    height: 100%;\n  }\n\n  body {\n    -webkit-font-smoothing: antialiased;\n  }\n\n  body, input, button {\n    font: 14px 'Roboto', sans-serif;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  ul {\n    list-style: none\n  }\n\n  button {\n    cursor: pointer;\n  }\n"])))),x=t(26),O=t(23),f=t(17),g=t(29),k=t(27),v=t(2);var S=function(e){var n=e.name,t=Object(g.a)(e,["name"]),a=Object(r.useRef)(null),c=Object(k.c)(n),s=c.fieldName,o=c.defaultValue,i=c.registerField;return Object(r.useEffect)((function(){i({name:s,ref:a.current,path:"value"})}),[s,i]),Object(v.jsx)("input",Object(f.a)({name:n,ref:a,defaultValue:o},t))};function E(e,n){return{type:"@auth/SIGN_IN_SUCCESS",payload:{token:e,user:n}}}var m=t.p+"static/media/logo.cd7b11d1.svg";var y,_=function(){var e=Object(u.b)(),n=Object(u.c)((function(e){return e.auth})).loading;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:m,alt:"Tasks",style:{height:"64px",width:"64px"}}),Object(v.jsxs)(x.a,{onSubmit:function(n){var t=n.email,a=n.password;e(function(e,n){return{type:"@auth/SIGN_IN_REQUEST",payload:{email:e,password:n}}}(t,a))},children:[Object(v.jsx)(S,{name:"email",type:"email",placeholder:"Seu e-mail"}),Object(v.jsx)(S,{name:"password",type:"password",placeholder:"Sua senha secreta"}),Object(v.jsx)("button",{type:"submit",children:n?"Acessando...":"Acessar"}),Object(v.jsx)(O.a,{to:"/register",children:"Criar conta gratuita"})]})]})};function w(e){return{type:"@task/DONE_UNDONE_TASK_SUCCESS",payload:{task:e}}}function U(e){return{type:"@task/DELETE_SUCCESS",payload:{task:e}}}var N=j.b.div(y||(y=Object(p.a)(["\n  form {\n    display: flex;\n    flex-direction: column;\n\n    input {\n      background: rgba(0, 0, 0, 0.48);\n      border: 0;\n      border-radius: 4px;\n      height: 44px;\n      padding: 0 15px;\n      color: #FFF;\n      margin: 0 0 10px;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7);\n      }\n      &:focus {\n        border: 1px solid #142B3B \n      }\n    }\n\n  }\n"])));var T=function(){var e=Object(u.b)(),n=Object(u.c)((function(e){return e.task})).loading;return Object(v.jsx)(N,{children:Object(v.jsxs)(x.a,{onSubmit:function(n){var t=n.title;e(function(e){return{type:"@task/SAVE_REQUEST",payload:{title:e}}}(t))},children:[Object(v.jsx)(S,{name:"title",type:"text",placeholder:"Descri\xe7\xe3o da tarefa"}),Object(v.jsx)("button",{type:"submit",disabled:!!n,children:n?"Salvando...":"Salvar"}),Object(v.jsx)("button",{style:{background:"#f75791cf"},type:"button",onClick:function(){e({type:"@task/CANCEL"})},disabled:!!n,children:"Cancelar"})]})})},C=t(55);var I,F,R,D,A=t(31),G=j.b.div(I||(I=Object(p.a)(["\n  max-width: 600px;\n  margin: 50px auto;\n  padding: 0 8px;\n\n  display: flex;\n  flex-direction: column;\n\n  button {\n    margin: 5px 0 0;\n    height: 44px;\n    background: #1D3E57;\n    font-weight: bold;\n    color: #FFF;\n    border: 0;\n    border-radius: 4px;\n    font-size: 16px;\n    transition: backgound 0.2s;\n\n    &:hover {\n      background: ","\n    }\n\n  }\n"])),Object(A.a)(.03,"#1D3E57")),L=j.b.li(F||(F=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  padding: 8px;\n  cursor: pointer;\n\n  input {\n    margin-right: 8px;\n    cursor: pointer;\n  }\n\n  strong {\n    color: #7E7E7E;\n    font-size: 16px;\n    text-decoration: ","\n  }\n"])),(function(e){return e.done?"line-through":"none"})),Q=j.b.div(R||(R=Object(p.a)(["\n  display: flex;\n  flex: 1;\n"]))),z=j.b.div(D||(D=Object(p.a)(["\n  svg {\n    cursor: pointer;\n  }\n"])));var B=function(){var e=Object(u.b)(),n=Object(u.c)((function(e){return e.tasks})).list,t=Object(u.c)((function(e){return e.task})).show;return Object(r.useEffect)((function(){e({type:"@tasks/LIST_REQUEST"})}),[e]),Object(v.jsxs)(G,{children:[!t&&Object(v.jsx)("button",{type:"button",onClick:function(){e({type:"@task/NEW"})},children:"Nova Tarefa"}),!!t&&Object(v.jsx)(T,{}),Object(v.jsx)("ul",{children:n.map((function(n){return Object(v.jsxs)(L,{done:n.done,children:[Object(v.jsxs)(Q,{onClick:function(){return function(n){e(function(e){return{type:"@task/DONE_UNDONE_TASK_REQUEST",payload:{task:e}}}(n))}(n)},children:[Object(v.jsx)("input",{type:"checkbox",name:"done",checked:n.done,readOnly:!0}),Object(v.jsx)("strong",{children:n.title})]}),Object(v.jsx)(z,{children:Object(v.jsx)(C.a,{onClick:function(){return function(n){e(function(e){return{type:"@task/DELETE_REQUEST",payload:{task:e}}}(n))}(n)},color:"#f75791cf",size:20})})]},n._id)}))})]})};var V=function(){var e=Object(u.b)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{src:m,alt:"Tasks",style:{height:"64px",width:"64px"}}),Object(v.jsxs)(x.a,{onSubmit:function(n){var t=n.name,a=n.email,r=n.password;e(function(e,n,t){return{type:"@auth/SIGN_UP_REQUEST",payload:{name:e,email:n,password:t}}}(t,a,r))},children:[Object(v.jsx)(S,{name:"name",type:"name",placeholder:"Nome completo"}),Object(v.jsx)(S,{name:"email",type:"email",placeholder:"Seu e-mail"}),Object(v.jsx)(S,{name:"password",type:"password",placeholder:"Sua senha secreta"}),Object(v.jsx)("button",{type:"submit",children:"Criar conta"}),Object(v.jsx)(O.a,{to:"/",children:"J\xe1 tenho login"})]})]})},q=t(30),P=t(56),K=t(32),J=t(18),W=t(53),H=t.n(W),M=t(21),Y={token:null,signed:!1,loading:!1};var X={profile:null};var Z={list:[],loading:!1};var $={show:!1,data:{},loading:!1};var ee=Object(J.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,n=arguments.length>1?arguments[1]:void 0;return Object(M.a)(e,(function(e){switch(n.type){case"@auth/SIGN_IN_REQUEST":e.loading=!0;break;case"@auth/SIGN_IN_SUCCESS":e.token=n.payload.token,e.signed=!0,e.loading=!1;break;case"@auth/SIGN_FAILURE":e.loading=!1;break;case"@auth/SIGN_OUT":e.token=null,e.signed=!1}}))},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,n=arguments.length>1?arguments[1]:void 0;return Object(M.a)(e,(function(e){switch(n.type){case"@auth/SIGN_IN_SUCCESS":e.profile=n.payload.user;break;case"@auth/SIGN_OUT":e.profile=null}}))},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,n=arguments.length>1?arguments[1]:void 0;return Object(M.a)(e,(function(e){switch(n.type){case"@tasks/LIST_REQUEST":e.loading=!0;break;case"@tasks/LIST_SUCCESS":e.list=n.payload.tasks,e.loading=!1;break;case"@task/SAVE_SUCCESS":e.list=[].concat(Object(K.a)(e.list),[n.payload.task]);break;case"@task/DONE_UNDONE_TASK_SUCCESS":e.list=e.list.map((function(e){return e._id===n.payload.task._id?n.payload.task:e}));break;case"@task/DELETE_SUCCESS":e.list=e.list.filter((function(e){return e._id!==n.payload.task._id}));break;case"@auth/SIGN_OUT":e.list=[],e.loading=!1}}))},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,n=arguments.length>1?arguments[1]:void 0;return Object(M.a)(e,(function(e){switch(n.type){case"@task/NEW":e.show=!0;break;case"@task/CANCEL":e.show=!1;break;case"@task/SAVE_REQUEST":e.loading=!0;break;case"@task/SAVE_SUCCESS":e.loading=!1,e.data={},e.show=!1;break;case"@task/DONE_UNDONE_TASK_REQUEST":e.loading=!0,e.data=n.payload.task;break;case"@task/DONE_UNDONE_TASK_SUCCESS":e.loading=!1,e.data={};break;case"@task/DELETE_REQUEST":e.loading=!0,e.data=n.payload.task;break;case"@task/DELETE_SUCCESS":e.loading=!1,e.data={};break;case"@auth/SIGN_OUT":e.show=!1,e.loading=!1,e.data={}}}))}}),ne=t(11),te=t.n(ne),ae=t(6),re=t(54),ce=t.n(re).a.create({baseURL:"https://node-task-api-zfd6wyvr3q-uc.a.run.app/"}),se=te.a.mark(ie),oe=te.a.mark(de);function ie(e){var n,t,a,r,c,s,o;return te.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.payload,i.prev=1,t=n.email,a=n.password,i.next=5,Object(ae.b)(ce.post,"sessions",{email:t,password:a});case 5:return r=i.sent,c=r.data,s=c.token,o=c.user,ce.defaults.headers.Authorization="Bearer ".concat(s),i.next=10,Object(ae.c)(E(s,o));case 10:b.push("/"),i.next=18;break;case 13:return i.prev=13,i.t0=i.catch(1),l.b.error("Falha na autentica\xe7\xe3o, verifique seus dados"),i.next=18,Object(ae.c)({type:"@auth/SIGN_FAILURE"});case 18:case"end":return i.stop()}}),se,null,[[1,13]])}function de(e){var n,t,a,r;return te.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,c.prev=1,t=n.name,a=n.email,r=n.password,c.next=5,Object(ae.b)(ce.post,"users",{name:t,email:a,password:r});case 5:b.push("/"),c.next=13;break;case 8:return c.prev=8,c.t0=c.catch(1),l.b.error("Falha no cadastro, verifique seus dados!"),c.next=13,Object(ae.c)({type:"@auth/SIGN_FAILURE"});case 13:case"end":return c.stop()}}),oe,null,[[1,8]])}var ue=Object(ae.a)([Object(ae.d)("persist/REHYDRATE",(function(e){var n=e.payload;if(n&&n.auth){var t=n.auth.token;t&&(ce.defaults.headers.Authorization="Bearer ".concat(t))}})),Object(ae.d)("@auth/SIGN_IN_REQUEST",ie),Object(ae.d)("@auth/SIGN_UP_REQUEST",de),Object(ae.d)("@auth/SIGN_OUT",(function(){b.push("/")}))]),le=te.a.mark(be);function be(){var e,n;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ae.b)(ce.get,"tasks");case 3:return e=t.sent,n=e.data,t.next=7,Object(ae.c)({type:"@tasks/LIST_SUCCESS",payload:{tasks:n}});case 7:t.next=14;break;case 9:return t.prev=9,t.t0=t.catch(0),l.b.error("Falha na autentica\xe7\xe3o, verifique seus dados"),t.next=14,Object(ae.c)({type:"@auth/SIGN_OUT"});case 14:case"end":return t.stop()}}),le,null,[[0,9]])}var pe=Object(ae.a)([Object(ae.d)("@tasks/LIST_REQUEST",be)]),je=te.a.mark(Oe),he=te.a.mark(fe),xe=te.a.mark(ge);function Oe(e){var n,t,a,r;return te.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,c.prev=1,t=n.title,c.next=5,Object(ae.b)(ce.post,"tasks",{title:t});case 5:return a=c.sent,r=a.data,c.next=9,Object(ae.c)({type:"@task/SAVE_SUCCESS",payload:{task:r}});case 9:c.next=16;break;case 11:return c.prev=11,c.t0=c.catch(1),l.b.error("Falha na autentica\xe7\xe3o, verifique seus dados"),c.next=16,Object(ae.c)({type:"@auth/SIGN_OUT"});case 16:case"end":return c.stop()}}),je,null,[[1,11]])}function fe(e){var n,t;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.payload,a.prev=1,!(t=n.task).done){a.next=8;break}return a.next=6,Object(ae.b)(ce.put,"tasks/".concat(t._id,"/undone"));case 6:a.next=10;break;case 8:return a.next=10,Object(ae.b)(ce.put,"tasks/".concat(t._id,"/done"));case 10:return a.next=12,Object(ae.c)(w(Object(f.a)(Object(f.a)({},t),{},{done:!t.done})));case 12:a.next=19;break;case 14:return a.prev=14,a.t0=a.catch(1),l.b.error("Falha na autentica\xe7\xe3o, verifique seus dados"),a.next=19,Object(ae.c)({type:"@auth/SIGN_OUT"});case 19:case"end":return a.stop()}}),he,null,[[1,14]])}function ge(e){var n,t;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.payload,a.prev=1,t=n.task,a.next=5,Object(ae.b)(ce.delete,"tasks/".concat(t._id));case 5:return a.next=7,Object(ae.c)(U(t));case 7:a.next=14;break;case 9:return a.prev=9,a.t0=a.catch(1),l.b.error("Falha na autentica\xe7\xe3o, verifique seus dados"),a.next=14,Object(ae.c)({type:"@auth/SIGN_OUT"});case 14:case"end":return a.stop()}}),xe,null,[[1,9]])}var ke=Object(ae.a)([Object(ae.d)("@task/SAVE_REQUEST",Oe),Object(ae.d)("@task/DONE_UNDONE_TASK_REQUEST",fe),Object(ae.d)("@task/DELETE_REQUEST",ge)]),ve=te.a.mark(Se);function Se(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)([ue,pe,ke]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),ve)}var Ee,me,ye,_e=Object(P.a)(),we=[_e],Ue=function(e,n){var t=J.a.apply(void 0,Object(K.a)(n));return Object(J.d)(e,t)}((Ee=ee,Object(q.a)({key:"tasks",storage:H.a,whitelist:["auth","user"]},Ee)),we),Ne=Object(q.b)(Ue);_e.run(Se);var Te=j.b.div(me||(me=Object(p.a)(["\n  height: 100%;\n  background: linear-gradient(-0deg, #1b262c, #020405);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),Ce=j.b.div(ye||(ye=Object(p.a)(["\n  width: 100%;\n  max-width: 315px;\n  text-align: center;\n  \n  form {\n    display: flex;\n    flex-direction: column;\n    margin-top: 30px;\n\n    input {\n      background: rgba(0, 0, 0, 0.48);\n      border: 0;\n      border-radius: 4px;\n      height: 44px;\n      padding: 0 15px;\n      color: #FFF;\n      margin: 0 0 10px;\n\n      &::placeholder {\n        color: rgba(255, 255, 255, 0.7);\n      }\n      &:focus {\n        border: 1px solid #142B3B \n      }\n    }\n\n    span {\n      color: #717171;\n      align-self: flex-start;\n      margin: 0 0 10px;\n      font-weight: bold;\n    }\n\n    button {\n      margin: 5px 0 0;\n      height: 44px;\n      background: #1D3E57;\n      font-weight: bold;\n      color: #FFF;\n      border: 0;\n      border-radius: 4px;\n      font-size: 16px;\n      transition: backgound 0.2s;\n\n      &:hover {\n        background: ","\n      }\n\n    }\n\n    a {\n      color: #FFF;\n      margin-top: 15px;\n      font-size: 16px;\n      opacity: 0.8;\n\n      &:hover {\n        opacity: 1;\n      }\n    }\n  }\n"])),Object(A.a)(.03,"#1D3E57"));function Ie(e){var n=e.children;return Object(v.jsx)(Te,{children:Object(v.jsx)(Ce,{children:n})})}var Fe,Re,De,Ae,Ge=t.p+"static/media/gray-logo.40445df6.svg",Le=j.b.div(Fe||(Fe=Object(p.a)(["\n  background: #fff;\n  padding:0 30px;\n"]))),Qe=j.b.div(Re||(Re=Object(p.a)(["\n  height: 64px;\n  max-width: 900px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  nav {\n    display: flex;\n    align-items: center;\n\n    img {\n      margin-right: 20px;\n      padding-right: 20px;\n      border-right: 1px solid #eee;\n      height: 64px;\n      width: 64px;\n    }\n\n    strong {\n      white-space: nowrap;\n    }\n  }\n\n  aside {\n    display: flex;\n    align-items: center;\n  }\n"]))),ze=j.b.div(De||(De=Object(p.a)(["\n  display: flex;\n  margin-left: 20px;\n  padding-left: 20px;\n  border-left: 1px solid #eee;\n\n  div {\n    text-align: right;\n    margin-right: 10px;\n\n    strong {\n      display: block;\n      color: #0f4c75;\n      white-space: nowrap;\n    }\n\n    button {\n      margin-top: 2px;\n      font-size: 12px;\n      color: #1A364C;\n      background: none;\n      border: none;\n    }\n\n  }\n"])));function Be(){var e=Object(u.b)(),n=Object(u.c)((function(e){return e.user.profile}));return Object(v.jsx)(Le,{children:Object(v.jsxs)(Qe,{children:[Object(v.jsxs)("nav",{children:[Object(v.jsx)("img",{src:Ge,alt:"GoBarber"}),Object(v.jsx)("strong",{children:"TODO List"})]}),Object(v.jsx)("aside",{children:Object(v.jsx)(ze,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)("strong",{children:n.name}),Object(v.jsx)("button",{type:"button",onClick:function(){e({type:"@auth/SIGN_OUT"})},children:"Sair"})]})})})]})})}var Ve=j.b.div(Ae||(Ae=Object(p.a)(["\n  height: 100%;\n  background: linear-gradient(-0deg, #1b262c, #020405);\n  overflow-y: auto;\n"])));function qe(e){var n=e.children;return Object(v.jsxs)(Ve,{children:[Object(v.jsx)(Be,{}),n]})}function Pe(e){var n=e.component,t=e.isPrivate,a=Object(g.a)(e,["component","isPrivate"]),r=Ue.getState().auth.signed;if(!r&&t)return Object(v.jsx)(i.a,{to:"/"});if(r&&!t)return Object(v.jsx)(i.a,{to:"/home"});var c=r?qe:Ie;return Object(v.jsx)(i.b,Object(f.a)(Object(f.a)({},a),{},{render:function(e){return Object(v.jsx)(c,{children:Object(v.jsx)(n,Object(f.a)({},e))})}}))}Pe.defaultProps={isPrivate:!1};var Ke=function(){return Object(v.jsxs)(i.d,{children:[Object(v.jsx)(Pe,{path:"/",exact:!0,component:_}),Object(v.jsx)(Pe,{path:"/home",component:B,isPrivate:!0}),Object(v.jsx)(Pe,{path:"/register",component:V})]})};var Je=function(){return Object(v.jsx)(u.a,{store:Ue,children:Object(v.jsx)(d.a,{persistor:Ne,children:Object(v.jsxs)(i.c,{history:b,children:[Object(v.jsx)(Ke,{}),Object(v.jsx)(h,{}),Object(v.jsx)(l.a,{autoClose:3e3})]})})})};o.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(Je,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.3022ccf9.chunk.js.map